

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h2 style="margin-bottom: 1.5rem;">My Closet</h2>
  <%= link_to "âž• Add Item", new_item_path, class: "button-primary", style: "padding: 10px 16px; font-size: 1rem; border-radius: 6px;" %>
</div>

<h2>Filter by Color Group</h2>

<%= form_with url: closet_path, method: :get, local: true do %>
  <label for="color_group">Select a color group:</label>
  <%= select_tag :color_group, options_for_select(@color_groups, @selected_color_group), include_blank: true %>
  <%= submit_tag "Filter", class: "btn" %>
<% end %>

<% @items_grouped_by_category.each do |category, items| %>
  <h3 style="margin-top: 2rem; font-weight: bold;"><%= category.capitalize %></h3>

  <div style="
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 20px;
    margin-bottom: 1rem;
  ">
    <% if items.empty? %>
      <div style="
        grid-column: 1 / -1;
        background: #f8f8f8;
        border: 1px dashed #ccc;
        padding: 20px;
        text-align: center;
        color: #888;
        border-radius: 8px;
      ">
        No items in this category yet.
      </div>
    <% else %>
      <% items.each do |item| %>
        <div
          style="
            cursor: pointer;
            text-align: center;
            background: #fff;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease;
          "
          onclick="window.location='<%= item_path(item) %>'"
        >
          <% if item.image.attached? %>
            <%= image_tag item.image, style: "width: 100%; height: 140px; object-fit: cover; border-radius: 6px;" %>
          <% else %>
            <div style="width: 100%; height: 140px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #aaa; border-radius: 6px;">
              No Image
            </div>
          <% end %>
          <h4 style="margin-top: 8px; font-size: 0.9rem;"><%= item.name %></h4>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>

<hr class="my-5">
