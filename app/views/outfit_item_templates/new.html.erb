<h1>Create a New Outfit</h1>

<div style="max-width: 700px; margin: 0 auto;">
  <%= form_with url: "/insert_outfit_item", method: :post do %>
    <div style="margin-bottom: 1rem;">
      <label>Outfit Name:</label>
      <%= text_field_tag :outfit_name, nil, class: "form-control", placeholder: "e.g. Dinner Outfit" %>
    </div>

    <h3>Select Items from Your Closet:</h3>

    <% @items.group_by(&:category).each do |category, items| %>
      <h4><%= category.presence || "Uncategorized" %></h4>

      <% items.each do |item| %>
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <%= check_box_tag "item_ids[]", item.id %>
          <label style="margin-left: 0.5rem;">
            <%= item.name %> - <%= item.color %>
          </label>

          <% if item.image.attached? %>
            <%= image_tag item.image.variant(resize_to_limit: [50, 50]), style: "margin-left: 1rem; border-radius: 4px;" %>
          <% end %>
        </div>
      <% end %>
    <% end %>

    <div style="margin-top: 2rem;">
      <%= submit_tag "Create Outfit", class: "btn btn-success", style: "width: 100%;" %>
    </div>
  <% end %>
</div>
