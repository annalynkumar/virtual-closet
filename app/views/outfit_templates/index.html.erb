<div class="closet-top-bar">
  <h2>My Outfits</h2>
  <%= link_to "Add an Outfit", "outfit_items/new", class: "button-primary" %>
</div>

<div class="outfit-scroll-container">
  <% @list_of_outfits.each do |outfit| %>
    <div class="outfit-card">
      <h4><%= outfit.name %></h4>
      <p><strong>Items:</strong></p>

      <% category_order = ["Top", "Pant", "Skirt", "Dress", "Outerwear", "Shoes", "Accessories"] %>
      <% sorted_items = outfit.items.sort_by { |item| category_order.index(item.category) || 999 } %>

      <ul style="list-style-type: none; padding-left: 0; margin: 0;">
        <% sorted_items.each do |item| %>
          <li style="list-style-type: none; margin-bottom: 1rem; padding-left: 0;">
            <div style="display: flex; align-items: center;">
              <% if item.image.present? %>
                <img src="<%= item.image.url %>" alt="<%= item.name %>" style="width: 80px; height: auto; margin-right: 1rem; border-radius: 8px;">
              <% else %>
                <div style="width: 80px; height: 80px; background-color: #eee; margin-right: 1rem; border-radius: 8px;"></div>
              <% end %>
              <strong><%= item.name %></strong>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
</div>
