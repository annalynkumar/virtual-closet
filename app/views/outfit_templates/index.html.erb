<h2>My Items</h2>

<% @items_grouped_by_category.each do |category, items| %>
  <h3 style="margin-top: 2rem;"><%= category %></h3>

  <div id="carousel-<%= category.parameterize %>" style="display: flex; overflow-x: auto; gap: 20px; scroll-snap-type: x mandatory; padding: 10px 0;">
    <% items.each do |item| %>
      <div style="flex: 0 0 auto; scroll-snap-align: start; width: 200px; text-align: center;">
        <%= link_to item_path(item.name.parameterize), style: "text-decoration: none; color: inherit;" do %>
          <% if item.image.attached? %>
            <%= image_tag item.image, style: "width: 80%; height: 150px; object-fit: cover; border-radius: 8px; border: 1px solid #ccc;" %>
          <% else %>
            <div style="width: 80%; height: 150px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #aaa; border-radius: 8px; border: 1px solid #ccc;">
              No Image
            </div>
          <% end %>
          <h4><%= item.name %></h4>
        <% end %>
      </div>
    <% end %>
  </div>

  <div style="display: flex; justify-content: space-between; margin: 8px 0;">
  <button 
    onclick="document.getElementById('carousel-<%= category.parameterize %>').scrollBy({ left: -220, behavior: 'smooth' })" 
    style="font-size: 24px; padding: 4px 8px; border-radius: 4px; border: 1px solid #ccc; background: #f8f8f8;">
    ⬅️
  </button>
  <button 
    onclick="document.getElementById('carousel-<%= category.parameterize %>').scrollBy({ left: 220, behavior: 'smooth' })" 
    style="font-size: 24px; padding: 4px 8px; border-radius: 4px; border: 1px solid #ccc; background: #f8f8f8;">
    ➡️
  </button>
</div>

<% end %>

 

<hr class="my-5">

<h2 class="mb-4">My Outfits</h2>

<div id="outfitCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner">
    <% @list_of_outfits.each_with_index do |outfit, index| %>
      <div class="carousel-item <%= index == 0 ? 'active text-center' : 'text-center' %>">
        <h4><%= outfit.name %></h4>
        <p><strong>Occasion:</strong> <%= outfit.occasion %></p>
        <p><strong>Season:</strong> <%= outfit.season %></p>
        <% if outfit.items.any? %>
          <p><strong>Items:</strong></p>
          <ul class="list-unstyled">
            <% outfit.items.each do |item| %>
              <li><%= item.name %></li>
            <% end %>
          </ul>
        <% else %>
          <p>No items in this outfit.</p>
        <% end %>
      </div>
    <% end %>
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#outfitCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#outfitCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
