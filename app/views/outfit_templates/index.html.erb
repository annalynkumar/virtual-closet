<h2 style="margin-bottom: 1.5rem;">My Items</h2>

<% @items_grouped_by_category.each do |category, items| %>
  <h3 style="margin-top: 2rem; font-weight: bold;"><%= category.pluralize.capitalize %></h3>

  <div style="
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 20px;
    margin-bottom: 1rem;
  ">
    <% if items.empty? %>
      <div style="
        grid-column: 1 / -1;
        background: #f8f8f8;
        border: 1px dashed #ccc;
        padding: 20px;
        text-align: center;
        color: #888;
        border-radius: 8px;
      ">
        No items in this category yet.
      </div>
    <% else %>
      <% items.each do |item| %>
        <div
          style="
            cursor: pointer;
            text-align: center;
            background: #fff;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s ease;
          "
          onclick="window.location='<%= item_path(item) %>'"
        >
          <% if item.image.attached? %>
            <%= image_tag item.image, style: "width: 100%; height: 140px; object-fit: cover; border-radius: 6px;" %>
          <% else %>
            <div style="width: 100%; height: 140px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #aaa; border-radius: 6px;">
              No Image
            </div>
          <% end %>
          <h4 style="margin-top: 8px; font-size: 0.9rem;"><%= item.name %></h4>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>

<hr class="my-5">

<h3 style="margin-top: 2rem;">My Outfits</h3>

<div style="display: flex; overflow-x: auto; gap: 20px; scroll-snap-type: x mandatory; padding: 10px 0;">
  <% @list_of_outfits.each do |outfit| %>
    <div style="min-width: 300px; flex: 0 0 auto; scroll-snap-align: start; border: 1px solid #ddd; border-radius: 8px; padding: 16px; background: #fafafa; box-shadow: 0 1px 4px rgba(0,0,0,0.05);">
      <h4><%= outfit.name %></h4>

      <p><strong>Occasion:</strong> <%= outfit.occasion.presence || "â€”" %></p>
      <p><strong>Items:</strong></p>
      <ul style="padding-left: 20px;">
        <% outfit.items.each do |item| %>
          <li><%= item.name %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
</div>
